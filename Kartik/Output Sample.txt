#include <FL/Fl_Multiline_Output.H>

string DTS(double value)
{
	stringstream ss;
	ss << value;
	string str = ss.str();
	return str;
}

void CatalogCB(Fl_Widget* w, void* p)
{
	Fl_Window *CW = new Fl_Window(900,300, "Catalog");
	Fl_Multiline_Output *BR = new Fl_Multiline_Output(10, 10, CW->w() - 20, CW->h() - 20 );

	BR->type(FL_MULTILINE_OUTPUT);
	BR->textfont(FL_COURIER);

	string result = "No.\tName\t\tPrice\tDescription\n";	

	for (int i = 0; i < Robots.size(); i++)
	{
		result += Robots[i].r_no + "\t" + Robots[i].r_name + "\t\t" + DTS(Robots[i].r_price) + "\t" + Robots[i].description + "\n";
	}

	BR->value(result.c_str());

	CW->resizable(BR);
	CW->end();
	CW->show();
	view->redraw();
}